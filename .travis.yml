--- 
addons: 
  artifacts: true
  sauce_connect: true
before_install: 
  - "sudo apt-get install libxss1 libappindicator1 libindicator7"
  - "wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb"
  - "sudo apt-get install -f"
  - "sudo dpkg -i google-chrome*.deb"
before_script: 
  - "npm install -g grunt-cli"
  - "npm install -g bower"
  - "npm install -g mkdirp"
  - "npm install -g chromedriver"
  - "npm install -g protractor"
  - "npm install -g protractor-html-screenshot-reporter"
  - "npm install -g wd"
  - "npm install -g wd-bridge"
  - "npm install jasmine-reporters"
  - "npm install -g appium@1.4.16"
  - "npm install -g chrome"
  - "npm install mkdirp"
  - "npm install underscore"
  - "npm install android"
  - "webdriver-manager update"
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - "sleep 3"
  - "echo no | android create avd --force -n test -t android-19 --abi x86"
  - "emulator -avd test -no-skin -no-audio -no-window &"
  - android-wait-for-emulator
  - "adb shell input keyevent 82 &"
  - appium
dist: trusty
env: 
  global: 
    - 
      secure: bartvitaly
    - 
      secure: 96fe819c-b6e1-472f-9e98-5793cacb1d62
language: node_js
node_js: 
  - "4"
script: 
  - "protractor conf/sauce.js"
